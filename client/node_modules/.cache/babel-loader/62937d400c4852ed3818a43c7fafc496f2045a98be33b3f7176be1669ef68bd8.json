{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport instances from '../../dom/instances';\nvar Default = {\n  alwaysOpen: false,\n  activeClasses: 'bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white',\n  inactiveClasses: 'text-gray-500 dark:text-gray-400',\n  onOpen: function () {},\n  onClose: function () {},\n  onToggle: function () {}\n};\nvar Accordion = /** @class */function () {\n  function Accordion(accordionEl, items, options) {\n    if (accordionEl === void 0) {\n      accordionEl = null;\n    }\n    if (items === void 0) {\n      items = [];\n    }\n    if (options === void 0) {\n      options = Default;\n    }\n    this._accordionEl = accordionEl;\n    this._items = items;\n    this._options = __assign(__assign({}, Default), options);\n    this._initialized = false;\n    this.init();\n    instances.addInstance('Accordion', this, this._accordionEl.id, true);\n  }\n  Accordion.prototype.init = function () {\n    var _this = this;\n    if (this._items.length && !this._initialized) {\n      // show accordion item based on click\n      this._items.forEach(function (item) {\n        if (item.active) {\n          _this.open(item.id);\n        }\n        var clickHandler = function () {\n          _this.toggle(item.id);\n        };\n        item.triggerEl.addEventListener('click', clickHandler);\n        // Store the clickHandler in a property of the item for removal later\n        item.clickHandler = clickHandler;\n      });\n      this._initialized = true;\n    }\n  };\n  Accordion.prototype.destroy = function () {\n    if (this._items.length && this._initialized) {\n      this._items.forEach(function (item) {\n        item.triggerEl.removeEventListener('click', item.clickHandler);\n        // Clean up by deleting the clickHandler property from the item\n        delete item.clickHandler;\n      });\n      this._initialized = false;\n    }\n  };\n  Accordion.prototype.removeInstance = function () {\n    instances.removeInstance('Accordion', this._accordionEl.id);\n  };\n  Accordion.prototype.destroyAndRemoveInstance = function () {\n    this.destroy();\n    this.removeInstance();\n  };\n  Accordion.prototype.getItem = function (id) {\n    return this._items.filter(function (item) {\n      return item.id === id;\n    })[0];\n  };\n  Accordion.prototype.open = function (id) {\n    var _a, _b;\n    var _this = this;\n    var item = this.getItem(id);\n    // don't hide other accordions if always open\n    if (!this._options.alwaysOpen) {\n      this._items.map(function (i) {\n        var _a, _b;\n        if (i !== item) {\n          (_a = i.triggerEl.classList).remove.apply(_a, _this._options.activeClasses.split(' '));\n          (_b = i.triggerEl.classList).add.apply(_b, _this._options.inactiveClasses.split(' '));\n          i.targetEl.classList.add('hidden');\n          i.triggerEl.setAttribute('aria-expanded', 'false');\n          i.active = false;\n          // rotate icon if set\n          if (i.iconEl) {\n            i.iconEl.classList.remove('rotate-180');\n          }\n        }\n      });\n    }\n    // show active item\n    (_a = item.triggerEl.classList).add.apply(_a, this._options.activeClasses.split(' '));\n    (_b = item.triggerEl.classList).remove.apply(_b, this._options.inactiveClasses.split(' '));\n    item.triggerEl.setAttribute('aria-expanded', 'true');\n    item.targetEl.classList.remove('hidden');\n    item.active = true;\n    // rotate icon if set\n    if (item.iconEl) {\n      item.iconEl.classList.add('rotate-180');\n    }\n    // callback function\n    this._options.onOpen(this, item);\n  };\n  Accordion.prototype.toggle = function (id) {\n    var item = this.getItem(id);\n    if (item.active) {\n      this.close(id);\n    } else {\n      this.open(id);\n    }\n    // callback function\n    this._options.onToggle(this, item);\n  };\n  Accordion.prototype.close = function (id) {\n    var _a, _b;\n    var item = this.getItem(id);\n    (_a = item.triggerEl.classList).remove.apply(_a, this._options.activeClasses.split(' '));\n    (_b = item.triggerEl.classList).add.apply(_b, this._options.inactiveClasses.split(' '));\n    item.targetEl.classList.add('hidden');\n    item.triggerEl.setAttribute('aria-expanded', 'false');\n    item.active = false;\n    // rotate icon if set\n    if (item.iconEl) {\n      item.iconEl.classList.remove('rotate-180');\n    }\n    // callback function\n    this._options.onClose(this, item);\n  };\n  return Accordion;\n}();\nexport function initAccordions() {\n  document.querySelectorAll('[data-accordion]').forEach(function ($accordionEl) {\n    var alwaysOpen = $accordionEl.getAttribute('data-accordion');\n    var activeClasses = $accordionEl.getAttribute('data-active-classes');\n    var inactiveClasses = $accordionEl.getAttribute('data-inactive-classes');\n    var items = [];\n    $accordionEl.querySelectorAll('[data-accordion-target]').forEach(function ($triggerEl) {\n      // Consider only items that directly belong to $accordionEl\n      // (to make nested accordions work).\n      if ($triggerEl.closest('[data-accordion]') === $accordionEl) {\n        var item = {\n          id: $triggerEl.getAttribute('data-accordion-target'),\n          triggerEl: $triggerEl,\n          targetEl: document.querySelector($triggerEl.getAttribute('data-accordion-target')),\n          iconEl: $triggerEl.querySelector('[data-accordion-icon]'),\n          active: $triggerEl.getAttribute('aria-expanded') === 'true' ? true : false\n        };\n        items.push(item);\n      }\n    });\n    new Accordion($accordionEl, items, {\n      alwaysOpen: alwaysOpen === 'open' ? true : false,\n      activeClasses: activeClasses ? activeClasses : Default.activeClasses,\n      inactiveClasses: inactiveClasses ? inactiveClasses : Default.inactiveClasses\n    });\n  });\n}\nif (typeof window !== 'undefined') {\n  window.Accordion = Accordion;\n  window.initAccordions = initAccordions;\n}\nexport default Accordion;","map":{"version":3,"names":["instances","Default","alwaysOpen","activeClasses","inactiveClasses","onOpen","onClose","onToggle","Accordion","accordionEl","items","options","_accordionEl","_items","_options","__assign","_initialized","init","addInstance","id","prototype","_this","length","forEach","item","active","open","clickHandler","toggle","triggerEl","addEventListener","destroy","removeEventListener","removeInstance","destroyAndRemoveInstance","getItem","filter","map","i","_a","classList","remove","apply","split","_b","add","targetEl","setAttribute","iconEl","close","initAccordions","document","querySelectorAll","$accordionEl","getAttribute","$triggerEl","closest","querySelector","push","window"],"sources":["../../../../src/components/accordion/index.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}