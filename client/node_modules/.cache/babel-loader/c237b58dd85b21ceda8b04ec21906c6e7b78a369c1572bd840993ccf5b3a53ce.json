{"ast":null,"code":"import { loginSuccess, logoutSuccess } from './authSlice';\nimport { useNavigate } from 'react-router-dom';\nexport const authService = {\n  async login(userdata) {\n    // Replace this with your actual login logic (e.g., API call)\n    const res = await fetch('http://localhost:8000/api/login', {\n      mode: \"cors\",\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      method: 'post',\n      body: JSON.stringify(userdata)\n    });\n    if (!res.ok) {\n      throw new Error(res.status);\n    }\n    // Dispatch the loginSuccess action with the user data\n    store.dispatch(loginSuccess(user));\n    return user;\n  },\n  async logout() {\n    const res = await fetch('http://localhost:8000/api/logout', {\n      mode: \"cors\",\n      method: 'get'\n    });\n    if (res.ok) {\n      navigate('/home');\n    }\n    // Dispatch the logoutSuccess action\n    store.dispatch(logoutSuccess());\n  }\n};","map":{"version":3,"names":["loginSuccess","logoutSuccess","useNavigate","authService","login","userdata","res","fetch","mode","headers","method","body","JSON","stringify","ok","Error","status","store","dispatch","user","logout","navigate"],"sources":["/Users/timruttinger/Documents/Career/Projects/dola/client/src/authService.js"],"sourcesContent":["import { loginSuccess, logoutSuccess } from './authSlice';\nimport { useNavigate } from 'react-router-dom';\n\n\nexport const authService = {\n  async login(userdata) {\n    // Replace this with your actual login logic (e.g., API call)\n    const res = await fetch('http://localhost:8000/api/login', { mode: \"cors\", headers: {'Content-Type': 'application/json'}, method: 'post', body: JSON.stringify(userdata)});\n    if(!res.ok) {\n        throw new Error(res.status);\n    }\n    // Dispatch the loginSuccess action with the user data\n    store.dispatch(loginSuccess(user));\n    \n    return user;\n  },\n\n  async logout() {\n    const res = await fetch('http://localhost:8000/api/logout', { mode: \"cors\", method: 'get' });\n    if(res.ok){\n        navigate('/home');\n      }\n    // Dispatch the logoutSuccess action\n    store.dispatch(logoutSuccess());\n  },\n};"],"mappings":"AAAA,SAASA,YAAY,EAAEC,aAAa,QAAQ,aAAa;AACzD,SAASC,WAAW,QAAQ,kBAAkB;AAG9C,OAAO,MAAMC,WAAW,GAAG;EACzB,MAAMC,KAAKA,CAACC,QAAQ,EAAE;IACpB;IACA,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,iCAAiC,EAAE;MAAEC,IAAI,EAAE,MAAM;MAAEC,OAAO,EAAE;QAAC,cAAc,EAAE;MAAkB,CAAC;MAAEC,MAAM,EAAE,MAAM;MAAEC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACR,QAAQ;IAAC,CAAC,CAAC;IAC1K,IAAG,CAACC,GAAG,CAACQ,EAAE,EAAE;MACR,MAAM,IAAIC,KAAK,CAACT,GAAG,CAACU,MAAM,CAAC;IAC/B;IACA;IACAC,KAAK,CAACC,QAAQ,CAAClB,YAAY,CAACmB,IAAI,CAAC,CAAC;IAElC,OAAOA,IAAI;EACb,CAAC;EAED,MAAMC,MAAMA,CAAA,EAAG;IACb,MAAMd,GAAG,GAAG,MAAMC,KAAK,CAAC,kCAAkC,EAAE;MAAEC,IAAI,EAAE,MAAM;MAAEE,MAAM,EAAE;IAAM,CAAC,CAAC;IAC5F,IAAGJ,GAAG,CAACQ,EAAE,EAAC;MACNO,QAAQ,CAAC,OAAO,CAAC;IACnB;IACF;IACAJ,KAAK,CAACC,QAAQ,CAACjB,aAAa,CAAC,CAAC,CAAC;EACjC;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}