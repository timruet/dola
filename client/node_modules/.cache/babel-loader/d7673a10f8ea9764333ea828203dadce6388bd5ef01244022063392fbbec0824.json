{"ast":null,"code":"import { registerDomainSuccess, getDomainSuccess, addDomainSuccess, deleteDomainSuccess, setDomainSuccess } from './domainSlice';\nimport { useNavigate } from 'react-router-dom';\nimport { store } from './store';\nexport const domainService = {\n  async addDomain(userid, domain) {\n    let res = await fetch('http://localhost:8000/api/addUserDomains', {\n      credentials: 'include',\n      mode: \"cors\",\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      method: 'post',\n      body: JSON.stringify({\n        userid: userid,\n        domain: domain\n      })\n    });\n    if (!res.ok) {\n      throw new Error(res.status);\n    }\n    res = await res.json();\n    store.dispatch(addDomainSuccess(res));\n  },\n  async deleteDomain(userid, domain) {\n    let res = await fetch('http://localhost:8000/api/deleteUserDomains', {\n      credentials: 'include',\n      mode: \"cors\",\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      method: 'post',\n      body: JSON.stringify({\n        userid: userid,\n        domain: domain\n      })\n    });\n    if (!res.ok) {\n      throw new Error(res.status);\n    }\n    res = await res.json();\n    store.dispatch(deleteDomainSuccess(res));\n  },\n  async registerDomain(userid) {\n    let res = await fetch('http://localhost:8000/api/createUserDomains', {\n      credentials: 'include',\n      mode: \"cors\",\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      method: 'post',\n      body: JSON.stringify({\n        userid: userid\n      })\n    });\n    if (!res.ok) {\n      throw new Error(res.status);\n    }\n    res = res.json();\n    store.dispatch(registerDomainSuccess(res.domains));\n  },\n  async getDomains(userid) {\n    let res = await fetch('http://localhost:8000/api/getUserDomains', {\n      credentials: 'include',\n      mode: \"cors\",\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      method: 'post',\n      body: JSON.stringify({\n        userid: userid\n      })\n    });\n    if (!res.ok) {\n      throw new Error(res.status);\n    }\n    res = await res.json();\n    store.dispatch(getDomainSuccess(res));\n  },\n  async setDomain(domain) {\n    store.dispatch(setDomainSuccess(domain));\n  }\n};","map":{"version":3,"names":["registerDomainSuccess","getDomainSuccess","addDomainSuccess","deleteDomainSuccess","setDomainSuccess","useNavigate","store","domainService","addDomain","userid","domain","res","fetch","credentials","mode","headers","method","body","JSON","stringify","ok","Error","status","json","dispatch","deleteDomain","registerDomain","domains","getDomains","setDomain"],"sources":["/Users/timruttinger/Documents/Career/Projects/dola/client/src/domainService.js"],"sourcesContent":["import { registerDomainSuccess, getDomainSuccess, addDomainSuccess, deleteDomainSuccess, setDomainSuccess } from './domainSlice';\nimport { useNavigate } from 'react-router-dom';\nimport { store } from './store'\n\n\nexport const domainService = {\n    async addDomain(userid, domain) {\n        let res = await fetch('http://localhost:8000/api/addUserDomains', { credentials: 'include', mode: \"cors\", headers: { 'Content-Type': 'application/json' }, method: 'post', body: JSON.stringify({ userid: userid, domain: domain }) });\n        if (!res.ok) {\n            throw new Error(res.status);\n        }\n        res = await res.json();\n        store.dispatch(addDomainSuccess(res));\n    },\n    async deleteDomain(userid, domain) {\n        let res = await fetch('http://localhost:8000/api/deleteUserDomains', { credentials: 'include', mode: \"cors\", headers: { 'Content-Type': 'application/json' }, method: 'post', body: JSON.stringify({ userid: userid, domain: domain }) });\n        if (!res.ok) {\n            throw new Error(res.status);\n        }\n        res = await res.json();\n        store.dispatch(deleteDomainSuccess(res));\n    },\n    async registerDomain(userid) {\n        let res = await fetch('http://localhost:8000/api/createUserDomains', { credentials: 'include', mode: \"cors\", headers: { 'Content-Type': 'application/json' }, method: 'post', body: JSON.stringify({ userid: userid }) });\n        if (!res.ok) {\n            throw new Error(res.status);\n        }\n        res = res.json();\n        store.dispatch(registerDomainSuccess(res.domains));\n    },\n    async getDomains(userid) {\n        let res = await fetch('http://localhost:8000/api/getUserDomains', { credentials: 'include', mode: \"cors\", headers: { 'Content-Type': 'application/json' }, method: 'post', body: JSON.stringify({ userid: userid }) });\n        if (!res.ok) {\n            throw new Error(res.status);\n        }\n        res = await res.json();\n        store.dispatch(getDomainSuccess(res));\n    },\n\n    async setDomain(domain) {\n        store.dispatch(setDomainSuccess(domain));\n    },\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}